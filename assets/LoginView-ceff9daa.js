import{b as h,r as g,o as w,c as E,f as e,H as T,v as d,n as V,q as x,j as b,F as I,u as y,i as L,p as S,e as D,a as R,A as U,x as l,_ as k}from"./index-2c81f593.js";const n=i=>(S("data-v-04d689e9"),i=i(),D(),i),A={class:"container"},B={class:"row justify-content-center"},C=n(()=>e("h1",{class:"h3 mb-3 font-weight-normal"},"歡迎登入",-1)),N={class:"col-8"},O=["onSubmit"],$={class:"form-floating mb-3"},q=n(()=>e("label",{for:"username"},"Email address",-1)),M={class:"form-floating"},P=n(()=>e("label",{for:"password"},"Password",-1)),j=n(()=>e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"},"登入",-1)),F=n(()=>e("p",{class:"mt-5 mb-3 text-muted"},"© 2023 ~ ∞ - 六角學院",-1)),H={class:"text-center"},K=h({__name:"LoginView",setup(i){const{VITE_URL:p,VITE_TOKEN:u,VITE_TEXT:_}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"tuhacrt",VITE_TOKEN:"loginToken",VITE_TEXT:"Environment is in production build",BASE_URL:"/VL_CC/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},m=y(),r=g(!1),a={username:"",password:""},f=async()=>{var s;const c=`${p}/admin/signin`;r.value=!0;try{const t=await R.post(c,a),{token:o,expired:v}=t.data;r.value=!1,document.cookie=`${u}=${o}; expires=${new Date(v)};`,m.push("/admin/products")}catch(t){t instanceof U&&alert((s=t.response)==null?void 0:s.data.message)}};return(c,s)=>{const t=L("Loading");return w(),E(I,null,[e("div",A,[e("div",B,[C,e("div",N,[e("form",{id:"form",class:"form-signin",onSubmit:T(f,["prevent"])},[e("div",$,[d(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=o=>a.username=o),type:"email",class:"form-control",placeholder:"example@example.com",required:""},null,512),[[l,a.username]]),q]),e("div",M,[d(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>a.password=o),type:"password",class:"form-control",placeholder:"password",required:""},null,512),[[l,a.password]]),P]),j],40,O)])]),F,e("div",H,[e("p",null,V(x(_)),1)])]),b(t,{active:r.value,"onUpdate:active":s[2]||(s[2]=o=>r.value=o),"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64)}}});const z=k(K,[["__scopeId","data-v-04d689e9"]]);export{z as default};
