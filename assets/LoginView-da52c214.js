import{d as h,f as g,o as w,c as E,a as e,z as T,i as c,g as V,u as b,b as x,F as I,n as y,r as L,B as S,C as D,p as R,A as U,v as l,_ as k}from"./index-f073120f.js";const n=i=>(S("data-v-04d689e9"),i=i(),D(),i),B={class:"container"},C={class:"row justify-content-center"},A=n(()=>e("h1",{class:"h3 mb-3 font-weight-normal"},"歡迎登入",-1)),N={class:"col-8"},O=["onSubmit"],$={class:"form-floating mb-3"},M=n(()=>e("label",{for:"username"},"Email address",-1)),P={class:"form-floating"},q=n(()=>e("label",{for:"password"},"Password",-1)),F=n(()=>e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"},"登入",-1)),K=n(()=>e("p",{class:"mt-5 mb-3 text-muted"},"© 2023 ~ ∞ - 六角學院",-1)),X={class:"text-center"},j=h({__name:"LoginView",setup(i){const{VITE_URL:p,VITE_TOKEN:u,VITE_TEXT:_}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"tuhacrt",VITE_TOKEN:"loginToken",VITE_TEXT:"Environment is in production build",BASE_URL:"/VL_CC/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},m=y(),r=g(!1),a={username:"",password:""},f=async()=>{var s;const d=`${p}/admin/signin`;r.value=!0;try{const t=await R.post(d,a),{token:o,expired:v}=t.data;r.value=!1,document.cookie=`${u}=${o}; expires=${new Date(v)};`,m.push("/admin/products")}catch(t){t instanceof U&&alert((s=t.response)==null?void 0:s.data.message)}};return(d,s)=>{const t=L("Loading");return w(),E(I,null,[e("div",B,[e("div",C,[A,e("div",N,[e("form",{id:"form",class:"form-signin",onSubmit:T(f,["prevent"])},[e("div",$,[c(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=o=>a.username=o),type:"email",class:"form-control",placeholder:"example@example.com",required:""},null,512),[[l,a.username]]),M]),e("div",P,[c(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>a.password=o),type:"password",class:"form-control",placeholder:"password",required:""},null,512),[[l,a.password]]),q]),F],40,O)])]),K,e("div",X,[e("p",null,V(b(_)),1)])]),x(t,{active:r.value,"onUpdate:active":s[2]||(s[2]=o=>r.value=o),"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64)}}});const H=k(j,[["__scopeId","data-v-04d689e9"]]);export{H as default};
