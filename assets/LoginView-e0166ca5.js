import{d as h,r as g,a as w,c as E,g as e,K as T,v as c,t as V,u as x,k as b,F as I,i as y,j as L,p as S,f as k,M as D,N as R,x as l,_ as U}from"./index-eb0e9c0c.js";const n=i=>(S("data-v-04d689e9"),i=i(),k(),i),N={class:"container"},B={class:"row justify-content-center"},C=n(()=>e("h1",{class:"h3 mb-3 font-weight-normal"},"歡迎登入",-1)),M={class:"col-8"},O=["onSubmit"],$={class:"form-floating mb-3"},A=n(()=>e("label",{for:"username"},"Email address",-1)),K={class:"form-floating"},P=n(()=>e("label",{for:"password"},"Password",-1)),j=n(()=>e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"},"登入",-1)),q=n(()=>e("p",{class:"mt-5 mb-3 text-muted"},"© 2023 ~ ∞ - 六角學院",-1)),F={class:"text-center"},X=h({__name:"LoginView",setup(i){const{VITE_URL:p,VITE_TOKEN:u,VITE_TEXT:_}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"tuhacrt",VITE_TOKEN:"loginToken",VITE_TEXT:"Environment is in production build",BASE_URL:"/VL_CC/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},m=y(),r=g(!1),a={username:"",password:""},f=async()=>{var s;const d=`${p}/admin/signin`;r.value=!0;try{const t=await D.post(d,a),{token:o,expired:v}=t.data;r.value=!1,document.cookie=`${u}=${o}; expires=${new Date(v)};`,m.push("/admin/products")}catch(t){t instanceof R&&alert((s=t.response)==null?void 0:s.data.message)}};return(d,s)=>{const t=L("Loading");return w(),E(I,null,[e("div",N,[e("div",B,[C,e("div",M,[e("form",{id:"form",class:"form-signin",onSubmit:T(f,["prevent"])},[e("div",$,[c(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=o=>a.username=o),type:"email",class:"form-control",placeholder:"example@example.com",required:""},null,512),[[l,a.username]]),A]),e("div",K,[c(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>a.password=o),type:"password",class:"form-control",placeholder:"password",required:""},null,512),[[l,a.password]]),P]),j],40,O)])]),q,e("div",F,[e("p",null,V(x(_)),1)])]),b(t,{active:r.value,"onUpdate:active":s[2]||(s[2]=o=>r.value=o),"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64)}}});const z=U(X,[["__scopeId","data-v-04d689e9"]]);export{z as default};
