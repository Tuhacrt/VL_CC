import{d as f,h as E,o as y,a as r,c,g as o,t as n,e as T,D as V,u as b,k as L,F as k,N as C,I as U,J as I,j as x,E as D}from"./index-ee97a360.js";import{u as R}from"./cartStore-6c47c9c4.js";const N={class:"container"},P={class:"about"},S={class:"modal-body"},w={class:"row"},A={class:"col-sm-6"},B=["src"],$={class:"col-sm-6"},M={class:"badge bg-primary rounded-pill"},O={key:0,class:"h5"},q={key:1},F={class:"h6"},H={class:"h5"},j={class:"input-group"},z=f({__name:"UserProductView",setup(J){const{VITE_URL:p,VITE_PATH:_}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"tuhacrt",VITE_TOKEN:"loginToken",VITE_TEXT:"Environment is in production build",BASE_URL:"/VL_CC/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},m=C(),g=R(),{addToCart:v}=g,t=E({product:{},isLoading:!1}),d=1,h=async()=>{var i;const{id:l}=m.params,s=`${p}/api/${_}/product/${l}`;t.isLoading=!0;try{const e=await U.get(s);t.isLoading=!1,t.product=e.data.product}catch(e){e instanceof I&&alert((i=e.response)==null?void 0:i.data.message)}};return y(()=>{h()}),(l,s)=>{var e,u;const i=x("Loading");return r(),c(k,null,[o("div",N,[o("div",P,[o("h1",null,n(t.product.title),1),o("div",S,[o("div",w,[o("div",A,[(e=t.product)!=null&&e.imagesUrl?(r(),c("img",{key:0,class:"img-fluid",src:(u=t.product)==null?void 0:u.imagesUrl[0],alt:""},null,8,B)):T("",!0)]),o("div",$,[o("span",M,n(t.product.category),1),o("p",null,"商品描述："+n(t.product.description),1),o("p",null,"商品內容："+n(t.product.content),1),t.product.price<t.product.origin_price?(r(),c("div",O,n(t.product.origin_price)+" 元 ",1)):(r(),c("div",q,[o("del",F,"原價 "+n(t.product.origin_price)+" 元",1),o("div",H,"現在只要 "+n(t.product.price)+" 元",1)])),o("div",null,[o("div",j,[V(o("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>d=a),"aria-label":"quantity-input",min:"1",type:"number",class:"form-control"},null,512),[[D,d,void 0,{number:!0}]]),o("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=a=>b(v)(t.product.id,d))}," 加入購物車 ")])])])])])])]),L(i,{active:t.isLoading,"onUpdate:active":s[2]||(s[2]=a=>t.isLoading=a),"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64)}}});export{z as default};
