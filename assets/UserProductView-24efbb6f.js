import{d as f,h as y,o as E,a as r,c,g as o,t as i,e as T,H as V,u as b,k as L,F as k,P as C,M as U,N as I,j as x,I as P}from"./index-415fa7e0.js";import{u as R}from"./cartStore-c713b9e9.js";import"./loadingStore-2a8c4dde.js";const D={class:"container"},N={class:"about"},S={class:"modal-body"},w={class:"row"},A={class:"col-sm-6"},B=["src"],M={class:"col-sm-6"},$={class:"badge bg-primary rounded-pill"},H={key:0,class:"h5"},O={key:1},q={class:"h6"},F={class:"h5"},j={class:"input-group"},J=f({__name:"UserProductView",setup(K){const{VITE_URL:p,VITE_PATH:_}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"tuhacrt",VITE_TOKEN:"loginToken",VITE_TEXT:"Environment is in production build",BASE_URL:"/VL_CC/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},m=C(),g=R(),{addToCart:v}=g,t=y({product:{},isLoading:!1}),d=1,h=async()=>{var n;const{id:l}=m.params,s=`${p}/api/${_}/product/${l}`;t.isLoading=!0;try{const e=await U.get(s);t.isLoading=!1,t.product=e.data.product}catch(e){e instanceof I&&alert((n=e.response)==null?void 0:n.data.message)}};return E(()=>{h()}),(l,s)=>{var e,u;const n=x("Loading");return r(),c(k,null,[o("div",D,[o("div",N,[o("h1",null,i(t.product.title),1),o("div",S,[o("div",w,[o("div",A,[(e=t.product)!=null&&e.imagesUrl?(r(),c("img",{key:0,class:"img-fluid",src:(u=t.product)==null?void 0:u.imagesUrl[0],alt:""},null,8,B)):T("",!0)]),o("div",M,[o("span",$,i(t.product.category),1),o("p",null,"商品描述："+i(t.product.description),1),o("p",null,"商品內容："+i(t.product.content),1),t.product.price<t.product.origin_price?(r(),c("div",H,i(t.product.origin_price)+" 元 ",1)):(r(),c("div",O,[o("del",q,"原價 "+i(t.product.origin_price)+" 元",1),o("div",F,"現在只要 "+i(t.product.price)+" 元",1)])),o("div",null,[o("div",j,[V(o("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>d=a),"aria-label":"quantity-input",min:"1",type:"number",class:"form-control"},null,512),[[P,d,void 0,{number:!0}]]),o("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=a=>b(v)(t.product.id,d))}," 加入購物車 ")])])])])])])]),L(n,{active:t.isLoading,"onUpdate:active":s[2]||(s[2]=a=>t.isLoading=a),"can-cancel":!0,"is-full-page":!0},null,8,["active"])],64)}}});export{J as default};
