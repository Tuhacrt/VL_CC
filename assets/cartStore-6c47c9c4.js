import{H as f,r as g,s as $,o as _,I as c,J as l}from"./index-ee97a360.js";const h=f("loading",()=>({isLoading:g(!1)})),{VITE_URL:i,VITE_PATH:u}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"tuhacrt",VITE_TOKEN:"loginToken",VITE_TEXT:"Environment is in production build",BASE_URL:"/VL_CC/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},I=f("cart",()=>{const p=g({carts:[],total:0,final_total:0}),v=h(),{isLoading:e}=$(v),n=async()=>{var s;const t=`${i}/api/${u}/cart`;e.value=!0;try{const a=await c.get(t);e.value=!1,p.value=a.data.data}catch(a){e.value=!1,a instanceof l&&alert((s=a.response)==null?void 0:s.data.message)}},T=async t=>{var r;const s=`${i}/api/${u}/cart/${t.id}`,a={product_id:t.id,qty:t.qty};e.value=!0;try{const o=await c.put(s,{data:a});alert(o.data.message),n()}catch(o){e.value=!1,o instanceof l&&alert((r=o.response)==null?void 0:r.data.message)}},m=async(t,s=1)=>{var o;const a=`${i}/api/${u}/cart`,r={product_id:t,qty:s};e.value=!0;try{const d=await c.post(a,{data:r});alert(d.data.message),n()}catch(d){e.value=!1,d instanceof l&&alert((o=d.response)==null?void 0:o.data.message)}},y=async()=>{var s;const t=`${i}/api/${u}/carts`;e.value=!0;try{const a=await c.delete(t);alert(a.data.message),n()}catch(a){e.value=!1,a instanceof l&&alert((s=a.response)==null?void 0:s.data.message)}},E=async t=>{var a;const s=`${i}/api/${u}/cart/${t}`;e.value=!0;try{const r=await c.delete(s);alert(r.data.message),n()}catch(r){e.value=!1,r instanceof l&&alert((a=r.response)==null?void 0:a.data.message)}};return _(()=>{n()}),{carts:p,getCart:n,updateCart:T,addToCart:m,deleteAllCarts:y,deleteCartItem:E}});export{h as a,I as u};
