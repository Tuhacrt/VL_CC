import{L as E,r as c,s as v,o as m,M as i,N as p,O as _}from"./index-415fa7e0.js";import{u as L}from"./loadingStore-2a8c4dde.js";const{VITE_URL:l,VITE_PATH:d}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"tuhacrt",VITE_TOKEN:"loginToken",VITE_TEXT:"Environment is in production build",BASE_URL:"/VL_CC/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},P=E("product",()=>{const a=c({products:[],pagination:{}}),f=c({imagesUrl:[]}),g=L(),{isLoading:o}=v(g),u=async(r=(s=>(s=a.value)==null?void 0:s.pagination.current_page)()||1)=>{var e;const n=`${l}/api/${d}/products?page=${r}`;o.value=!0;try{const t=await i.get(n);o.value=!1,a.value=t.data}catch(t){o.value=!1,t instanceof p&&alert((e=t.response)==null?void 0:e.data.message)}},T=async r=>{var e;const{id:s}=r,n=`${l}/api/${d}/product/${s}`;o.value=!0;try{await i.get(n),o.value=!1,_.push(`/product/${s}`)}catch(t){o.value=!1,t instanceof p&&alert((e=t.response)==null?void 0:e.data.message)}};return m(()=>{u()}),{products:a,tempProduct:f,getProductList:u,gotToProduct:T}});export{P as u};
