import{L as E,r as g,s as m,o as $,M as c,N as u,O as _}from"./index-eb0e9c0c.js";import{u as h}from"./loadingStore-ee469167.js";const{VITE_URL:i,VITE_PATH:l}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"tuhacrt",VITE_TOKEN:"loginToken",VITE_TEXT:"Environment is in production build",BASE_URL:"/VL_CC/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V=E("product",()=>{const n=g({products:[],pagination:{}}),p=g({imagesUrl:[]}),v=h(),{isLoading:e}=m(v),d=async(r=(a=>(a=n.value)==null?void 0:a.pagination.current_page)()||1)=>{var t;const s=`${i}/api/${l}/products?page=${r}`;e.value=!0;try{const o=await c.get(s);e.value=!1,n.value=o.data}catch(o){e.value=!1,o instanceof u&&alert((t=o.response)==null?void 0:t.data.message)}},f=async r=>{var s;const a=`${i}/api/${l}/product/${r}`;e.value=!0;try{const t=await c.get(a);e.value=!1,p.value=t.data.product}catch(t){t instanceof u&&alert((s=t.response)==null?void 0:s.data.message)}},T=async r=>{var t;const{id:a}=r,s=`${i}/api/${l}/product/${a}`;f(a),e.value=!0;try{await c.get(s),e.value=!1,_.push(`/product/${a}`)}catch(o){e.value=!1,o instanceof u&&alert((t=o.response)==null?void 0:t.data.message)}};return $(()=>{d()}),{products:n,tempProduct:p,getProductList:d,getProduct:f,gotToProduct:T}});export{V as u};
